Symbol    = "SPL.AX",
type      =  "MAE"
)
}
)
renderPlot(
{
# ------------------------------------------------------------------------------
FinancialInstrument::currency(c("AUD", "USD"))           # Set the currency  ###
FinancialInstrument::getInstrument("AUD","USD")
# ------------------------------------------------------------------------------
FinancialInstrument::stock(c("SPL.AX"), currency ="AUD") # Define the stocks ###
FinancialInstrument::getInstrument("SPL.AX")
# ------------------------------------------------------------------------------
ind <- tolower(data.table::setorder(unique(trend[,1]))[(as.numeric(input$radio2.4) - 4),])
blotter::getPortfolio(paste0("nX", ind), envir = .blotter)
blotter::chart.ME(
Portfolio = paste0("nX", ind),
Symbol    = "SPL.AX",
type      =  "MFE"
)
}
)
xhp <- list(title = n$catName, titlefont = F)
yhp <- list(title = "Counts", titlefont = F)
ybp <- list(title = n$catName, titlefont = F)
renderPlotly({
ind <- data.table::setorder(unique(trend[,1]))[(as.numeric(input$radio2.4) - 4),]
n   <- n[indicator == ind]
n   <- n[(startDate >= input$dateRange2.4[1] & endDate <= input$dateRange2.4[2])]
histogram <-
plot_ly(n,
x = n$return,
type = "histogram",
marker = list(
color = "#778899")) %>%
layout(xaxis = xhp,
yaxis = yhp)
boxplot <-
plot_ly(n,
x = n$return,
type = "box",
boxpoints = "all",
jitter = 0.3,
marker = list(
color = "steel blue")) %>%
layout(yaxis = ybp)
subplot(boxplot,
histogram,
nrows = 2,
shareX = TRUE) %>%
layout(
xaxis = list(
tickformat = "%")
,title = "ROI with Outliers"
,bargap = 0.1
,showlegend = FALSE)
})
xhp <- list(title = n$catName, titlefont = F)
yhp <- list(title = "Counts", titlefont = F)
ybp <- list(title = n$catName, titlefont = F)
renderPlotly({
ind <- data.table::setorder(unique(trend[,1]))[(as.numeric(input$radio2.4) - 4),]
n <- n[indicator == ind]
n <- n[(startDate >= input$dateRange2.4[1] &
endDate   <= input$dateRange2.4[2])]
histogramN <-
plot_ly(n,
x = n$tradeDays,
type = "histogram",
marker = list(
color = "#778899",
outliercolor = "#778899")) %>%
layout(xaxis = xhp,
yaxis = yhp)
boxplotN <-
plot_ly(n,
x = n$tradeDays,
type = "box",
boxpoints = "all",
jitter = 0.3,
marker = list(
color = "steel blue",
line = list(
outliercolor = "#D0A92C",
outlierwidth = 5))
) %>%
layout(yaxis = ybp)
subplot(boxplotN,
histogramN,
nrows = 2,
shareX = TRUE) %>%
layout(showlegend = FALSE) %>%
layout(title = "# of Trade Days with Outliers", bargap = 0.1)
})
dateRangeInput("dateRange3.0",
"Dispersion data",
start = params$dateStart,
end = Sys.Date(),
min = params$dateStart,
max = Sys.Date()
)
flexdashboard::renderValueBox({
disp_last <-  percent(
max(
xts::last(
na.omit(
xts_bb20_disp[,5]
)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste0("Disp: ", as.character(disp_last)),
color = ifelse(disp_last > 0, "#BF5700", "red"),
icon  = "ion-cash"
)
})
flexdashboard::renderValueBox({
delt_last <-  percent(
max(
xts::last(
na.omit(
xts_bb20_disp[,6]
)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste0("Delta: ", as.character(delt_last)),
color = ifelse(delt_last > 0, "#BF5700", "red"),
icon  = "ion-cash"
)
})
flexdashboard::renderValueBox({
disp_max <- percent(
max(
na.omit(
xts_bb20_disp[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]),sep = "::")][,5]
)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste0("Max Disp: ", as.character(disp_max)),
color = ifelse(disp_max > 0, "teal", "red"),
icon  = "ion-cash"
)
})
flexdashboard::renderValueBox({
delt_max <- percent(
max(
na.omit(
xts_bb20_disp[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]),sep = "::")][,6]
)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste0("Max Delta: ", as.character(delt_max)),
color = fcase(
delt_max > 0, "teal",
delt_max < 0, "red",
default  = "gray30"),
icon  = "ion-cash"
)
})
flexdashboard::renderValueBox({
disp_min <- percent(
min(
na.omit(
xts_bb20_disp[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]),sep = "::")][,5]
)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste0("Min Disp: ", as.character(disp_min)),
color = ifelse(disp_min > 0, "teal", "red"),
icon  = "ion-cash"
)
})
flexdashboard::renderValueBox({
delt_min <- percent(
min(
na.omit(
xts_bb20_disp[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]),sep = "::")][,6]
)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste0("Min Delta: ", as.character(delt_min)),
color = ifelse(delt_min > 0, "teal", "red"),
icon  = "ion-cash"
)
})
flexdashboard::renderValueBox({
disp_med <- percent(
median.zoo(
na.omit(
xts_bb20_disp[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]),sep = "::")][,5]
)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste0("Med Disp: ", as.character(disp_med)),
color = ifelse(disp_med > 0, "teal", "red"),
icon  = "ion-cash"
)
})
flexdashboard::renderValueBox({
delt_med <- percent(
median.zoo(
na.omit(
xts_bb20_disp[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]),sep = "::")][,6]
)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste0("Med Delta: ", as.character(delt_med)),
color = ifelse(delt_med > 0, "teal", "red"),
icon  = "ion-cash"
)
})
flexdashboard::renderValueBox({
calendarDays <- format(input$dateRange3.0[2] - input$dateRange3.0[1], big.mark = ",")
calendarDays <- substr(calendarDays, 1, nchar(calendarDays) - 5)
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste("Cal Days: ", calendarDays),
)
})
flexdashboard::renderValueBox({
tradeDays <-   format(
ndays(
na.omit(
trendReturnsDaily[,as.numeric(input$radio2.4)])[paste(format(input$dateRange3.0[1]),
format(input$dateRange3.0[2]),sep = "::")]
),
big.mark = ",")
# ------------------------------------------------------------------------------
flexdashboard::valueBox(
paste("Trade Days: ", "", tradeDays),
color = # 0000ff
, icon = "fa-calendar"
)
})
DT::renderDataTable({
dt_disp <-  na.omit(
data.table(
merge(SPL.AX[,4:5], dt_bb20_disp)
[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]),sep = "::")],
keep.rownames = TRUE)
)
DT::datatable(dt_disp,
rownames = FALSE,
extensions = c("Scroller"),
filter = 'top',
options = list(
dom = 'ltipr',
order = list(list(0, "desc")),
pageLength = 10,
scrollX = TRUE,
scrollY = 280,
scroller = TRUE
)
) %>%
formatDate(c("index")) %>%
formatCurrency("SPL.AX.Close", digits = 2) %>%
formatRound("SPL.AX.Volume", mark = ",", digits = 0) %>%
formatPercentage(c("dn", "mavg", "up", "pctB", "pct", "delta"), 1) %>%
formatStyle("pct",
background = styleColorBar(range(trend$return), "lightblue")
) %>%
formatStyle("delta",
color = styleInterval(c(0), c("maroon", "darkgreen"))
)
})
renderPlotly({
xts_bb20_disp
ggplotly(data.table(
xts_bb20_disp
[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]), sep = "::")],
keep.rownames = TRUE
)
%>%
plot_time_series(
.date_var = index,
.value = pct,
.smooth = TRUE,
.interactive = FALSE
) +
theme_cyberpunk() +
geom_line(size = 0.5, colour = "#bf5700"))
})
renderPlotly({
xts_bb20_disp
ggplotly(data.table(
xts_bb20_disp
[paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]), sep = "::")],
keep.rownames = TRUE
)
%>%
plot_time_series(
.date_var = index,
.value = delta,
.smooth = TRUE,
.interactive = FALSE
) +
theme_cyberpunk() +
geom_line(size = 0.5, colour = "#0c4c8a"))
})
renderPlot({
x <- tk_xts(price())
chartSeries(x,
theme = "black",
subset = paste(format(input$dateRange3.0[1][+1]), format(input$dateRange3.0[2]), sep = "::"),
TA = "addBBands();addVo();addCMF();addZLEMA()"
)
})
renderHighchart({
xts_price <- tk_xts(price())
colnames(xts_price) <- paste0(input$ticker, ".", colnames(xts_price))
highchart(type = "stock") %>%
hc_add_series(xts_price, type = "candlestick")
})
renderHighchart({
xts_price <- tk_xts(price())
colnames(xts_price) <- paste0(input$ticker, ".", colnames(xts_price))
highchart(type = "stock") %>%
hc_add_series(xts_price, type = "candlestick")
})
# draw a histogram
renderPlot({
# generate bins based on input$bins from ui.R
x <- tk_xts(price())
hist(x[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, 2),
seq(0.1, 2, by = 0.10)
)
})
x <- SPL.AX
hist(x[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, 2),
seq(0.1, 2, by = 0.10)
)
x
x[, 6]
hist(x[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, 3),
seq(0.1, 2, by = 0.10)
)
hist(x[, 6]
hist(x[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, 2),
seq(0.1, 3, by = 0.10)
)
})
source('~/GitHub/splGoldenDeathX/splGoldenDeathX.r', echo=TRUE)
devtools::install_github("dreamRs/billboarder")
library(devtools)
install.packages("cli")
devtools::install_github("dreamRs/billboarder")
install.packages("crayon")
devtools::install_github("dreamRs/billboarder")
source('~/GitHub/splGoldenDeathX/splGoldenDeathX.r', echo=TRUE)
remotes::install_github('yonicd/rsam')
devtools::install_github("lenkiefer/darklyplot")
source('~/GitHub/splGoldenDeathX/splGoldenDeathX.r', echo=TRUE)
View(config)
source('~/GitHub/splGoldenDeathX/splGoldenDeathX.r', echo=TRUE)
devtools::install_github("lenkiefer/darklyplot")
source('~/GitHub/splGoldenDeathX/splGoldenDeathX.r', echo=TRUE)
devtools::install_github("tidyverse/dplyr")
source('~/GitHub/splGoldenDeathX/splGoldenDeathX.r', echo=TRUE)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, as.integer(max(x[, 6]))),
seq(0.1, 5, by = 0.10)
)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, as.integer(max(SPL.AX[, 6]))),
seq(0.1, 5, by = 0.10)
)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, as.integer(max(SPL.AX[, 6])+1)),
seq(0.1, 5, by = 0.10)
)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, as.integer(max(SPL.AX[, 6]))),
seq(0.1, 5, by = 0.10)
)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, as.integer(max(SPL.AX[, 6]))),
seq(0.1, max(SPL.AX[, 6]), by = 0.10)
)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, as.integer(max(SPL.AX[, 6]))),
seq(0.1, max(SPL.AX[, 6]), by = 0.10)
)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, (max(SPL.AX[, 6])),
seq(0.1, max(SPL.AX[, 6]), by = 0.10)
)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, max(SPL.AX[, 6])),
seq(0.1, max(SPL.AX[, 6]), by = 0.10)
)
hist(SPL.AX[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "blue",
xlim = c(0.0, max(SPL.AX[, 6])),
seq(0.1, max(SPL.AX[, 6]), by = 0.10)
)
# draw a histogram
renderPlot({
# generate bins based on input$bins from ui.R
x <- tk_xts(price())
hist(x[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, max(x[, 6])),
seq(0.1, 5, by = 0.10)
)
})
# draw a histogram
renderPlot({
# generate bins based on input$bins from ui.R
x <- tk_xts(price())
hist(x[, 6],
main = "Closing Price",
xlab = "price",
ylab = "Count",
col = "darkmagenta",
freq = TRUE,
border = "white",
xlim = c(0.0, max(x[, 6])),
seq(0.1, 5, by = 0.10)
)
})
################################################################################
## Step 99.02: Processing                                                    ###
################################################################################
rmarkdown::run("./SPL-Dashboard/Flexdashboard.Rmd")
install.packages("cpp11")
renv::snapshot()
